{
  "metadata": {
    "name": "hipoteca_simulacion_slots_v1",
    "version": "1.0",
    "description": "Slots necesarios para simulacion de hipoteca (cliente banco / no cliente)."
  },
  "slots": [
    {
      "name": "aportaciones_adicionales",
      "type": "number",
      "prompt": "Aportaciones adicionales / ahorros disponibles en euros",
      "required": false,
      "validation": "non_negative"
    },
    {
      "name": "avalista",
      "type": "boolean",
      "prompt": "¿Tienes avalista o persona que aporte garantía? (sí/no)",
      "required": false
    }
  ],
  "validation_functions": {
    "non_negative": "value >= 0"
  },
  "flows": {
    "default": {
      "steps": [
        "cliente_es_cliente_banco",
        "pre_fill_client_data_if_any",
        "confirm_pre_filled_items",
        "collect_missing_slots_in_order",
        "validate_slots",
        "request_consent_for_credit_checks",
        "invoke_credit_checks_and_kcy",
        "compute_simulation",
        "show_results_and_options"
      ]
    }
  }
}
